                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.6.3 #9771 (MSVC)
                                      4 ;--------------------------------------------------------
                                      5 	.module fabsf
                                      6 	.optsdcc -mmcs51 --model-large --xstack
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _fabsf
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                                     15 	.area RSEG    (ABS,DATA)
      000000                         16 	.org 0x0000
                                     17 ;--------------------------------------------------------
                                     18 ; special function bits
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; overlayable register banks
                                     24 ;--------------------------------------------------------
                                     25 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         26 	.ds 8
                                     27 ;--------------------------------------------------------
                                     28 ; internal ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area DSEG    (DATA)
                                     31 ;--------------------------------------------------------
                                     32 ; overlayable items in internal ram 
                                     33 ;--------------------------------------------------------
                                     34 ;--------------------------------------------------------
                                     35 ; indirectly addressable internal ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area ISEG    (DATA)
                                     38 ;--------------------------------------------------------
                                     39 ; absolute internal ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area IABS    (ABS,DATA)
                                     42 	.area IABS    (ABS,DATA)
                                     43 ;--------------------------------------------------------
                                     44 ; bit data
                                     45 ;--------------------------------------------------------
                                     46 	.area BSEG    (BIT)
                                     47 ;--------------------------------------------------------
                                     48 ; paged external ram data
                                     49 ;--------------------------------------------------------
                                     50 	.area PSEG    (PAG,XDATA)
                                     51 ;--------------------------------------------------------
                                     52 ; external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area XSEG    (XDATA)
                                     55 ;--------------------------------------------------------
                                     56 ; absolute external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area XABS    (ABS,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; external initialized ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XISEG   (XDATA)
                                     63 	.area HOME    (CODE)
                                     64 	.area GSINIT0 (CODE)
                                     65 	.area GSINIT1 (CODE)
                                     66 	.area GSINIT2 (CODE)
                                     67 	.area GSINIT3 (CODE)
                                     68 	.area GSINIT4 (CODE)
                                     69 	.area GSINIT5 (CODE)
                                     70 	.area GSINIT  (CODE)
                                     71 	.area GSFINAL (CODE)
                                     72 	.area CSEG    (CODE)
                                     73 ;--------------------------------------------------------
                                     74 ; global & static initialisations
                                     75 ;--------------------------------------------------------
                                     76 	.area HOME    (CODE)
                                     77 	.area GSINIT  (CODE)
                                     78 	.area GSFINAL (CODE)
                                     79 	.area GSINIT  (CODE)
                                     80 ;--------------------------------------------------------
                                     81 ; Home
                                     82 ;--------------------------------------------------------
                                     83 	.area HOME    (CODE)
                                     84 	.area HOME    (CODE)
                                     85 ;--------------------------------------------------------
                                     86 ; code
                                     87 ;--------------------------------------------------------
                                     88 	.area CSEG    (CODE)
                                     89 ;------------------------------------------------------------
                                     90 ;Allocation info for local variables in function 'fabsf'
                                     91 ;------------------------------------------------------------
                                     92 ;x                         Allocated to stack - _bpx +0
                                     93 ;fl                        Allocated to stack - _bpx +4
                                     94 ;------------------------------------------------------------
                                     95 ;	fabsf.c:34: float fabsf(float x) _FLOAT_FUNC_REENTRANT
                                     96 ;	-----------------------------------------
                                     97 ;	 function fabsf
                                     98 ;	-----------------------------------------
      000000                         99 _fabsf:
                           000007   100 	ar7 = 0x07
                           000006   101 	ar6 = 0x06
                           000005   102 	ar5 = 0x05
                           000004   103 	ar4 = 0x04
                           000003   104 	ar3 = 0x03
                           000002   105 	ar2 = 0x02
                           000001   106 	ar1 = 0x01
                           000000   107 	ar0 = 0x00
      000000 A8*00            [24]  108 	mov	r0,_spx
      000002 05*00            [12]  109 	inc	_spx
      000004 C5*00            [12]  110 	xch	a,_bpx
      000006 F2               [24]  111 	movx	@r0,a
      000007 08               [12]  112 	inc	r0
      000008 E8               [12]  113 	mov	a,r0
      000009 C5*00            [12]  114 	xch	a,_bpx
      00000B C8               [12]  115 	xch	a,r0
      00000C E5*00            [12]  116 	mov	a,_spx
      00000E 24 08            [12]  117 	add	a,#0x08
      000010 F5*00            [12]  118 	mov	_spx,a
      000012 C8               [12]  119 	xch	a,r0
      000013 AF 82            [24]  120 	mov	r7,dpl
      000015 AE 83            [24]  121 	mov	r6,dph
      000017 AD F0            [24]  122 	mov	r5,b
      000019 FC               [12]  123 	mov	r4,a
      00001A A8*00            [24]  124 	mov	r0,_bpx
      00001C EF               [12]  125 	mov	a,r7
      00001D F2               [24]  126 	movx	@r0,a
      00001E 08               [12]  127 	inc	r0
      00001F EE               [12]  128 	mov	a,r6
      000020 F2               [24]  129 	movx	@r0,a
      000021 08               [12]  130 	inc	r0
      000022 ED               [12]  131 	mov	a,r5
      000023 F2               [24]  132 	movx	@r0,a
      000024 08               [12]  133 	inc	r0
      000025 EC               [12]  134 	mov	a,r4
      000026 F2               [24]  135 	movx	@r0,a
                                    136 ;	fabsf.c:38: fl.f = x;
      000027 E5*00            [12]  137 	mov	a,_bpx
      000029 24 04            [12]  138 	add	a,#0x04
      00002B F9               [12]  139 	mov	r1,a
      00002C A8*00            [24]  140 	mov	r0,_bpx
      00002E E2               [24]  141 	movx	a,@r0
      00002F FC               [12]  142 	mov	r4,a
      000030 08               [12]  143 	inc	r0
      000031 E2               [24]  144 	movx	a,@r0
      000032 FD               [12]  145 	mov	r5,a
      000033 08               [12]  146 	inc	r0
      000034 E2               [24]  147 	movx	a,@r0
      000035 FE               [12]  148 	mov	r6,a
      000036 08               [12]  149 	inc	r0
      000037 E2               [24]  150 	movx	a,@r0
      000038 FF               [12]  151 	mov	r7,a
      000039 EC               [12]  152 	mov	a,r4
      00003A F3               [24]  153 	movx	@r1,a
      00003B 09               [12]  154 	inc	r1
      00003C ED               [12]  155 	mov	a,r5
      00003D F3               [24]  156 	movx	@r1,a
      00003E 09               [12]  157 	inc	r1
      00003F EE               [12]  158 	mov	a,r6
      000040 F3               [24]  159 	movx	@r1,a
      000041 09               [12]  160 	inc	r1
      000042 EF               [12]  161 	mov	a,r7
      000043 F3               [24]  162 	movx	@r1,a
                                    163 ;	fabsf.c:39: fl.l &= 0x7fffffff;
      000044 E5*00            [12]  164 	mov	a,_bpx
      000046 24 04            [12]  165 	add	a,#0x04
      000048 F9               [12]  166 	mov	r1,a
      000049 E3               [24]  167 	movx	a,@r1
      00004A FC               [12]  168 	mov	r4,a
      00004B 09               [12]  169 	inc	r1
      00004C E3               [24]  170 	movx	a,@r1
      00004D FD               [12]  171 	mov	r5,a
      00004E 09               [12]  172 	inc	r1
      00004F E3               [24]  173 	movx	a,@r1
      000050 FE               [12]  174 	mov	r6,a
      000051 09               [12]  175 	inc	r1
      000052 E3               [24]  176 	movx	a,@r1
      000053 FF               [12]  177 	mov	r7,a
      000054 19               [12]  178 	dec	r1
      000055 19               [12]  179 	dec	r1
      000056 19               [12]  180 	dec	r1
      000057 53 07 7F         [24]  181 	anl	ar7,#0x7f
      00005A EC               [12]  182 	mov	a,r4
      00005B F3               [24]  183 	movx	@r1,a
      00005C 09               [12]  184 	inc	r1
      00005D ED               [12]  185 	mov	a,r5
      00005E F3               [24]  186 	movx	@r1,a
      00005F 09               [12]  187 	inc	r1
      000060 EE               [12]  188 	mov	a,r6
      000061 F3               [24]  189 	movx	@r1,a
      000062 09               [12]  190 	inc	r1
      000063 EF               [12]  191 	mov	a,r7
      000064 F3               [24]  192 	movx	@r1,a
                                    193 ;	fabsf.c:40: return fl.f;
      000065 E5*00            [12]  194 	mov	a,_bpx
      000067 24 04            [12]  195 	add	a,#0x04
      000069 F9               [12]  196 	mov	r1,a
      00006A E3               [24]  197 	movx	a,@r1
      00006B FC               [12]  198 	mov	r4,a
      00006C 09               [12]  199 	inc	r1
      00006D E3               [24]  200 	movx	a,@r1
      00006E FD               [12]  201 	mov	r5,a
      00006F 09               [12]  202 	inc	r1
      000070 E3               [24]  203 	movx	a,@r1
      000071 FE               [12]  204 	mov	r6,a
      000072 09               [12]  205 	inc	r1
      000073 E3               [24]  206 	movx	a,@r1
      000074 8C 82            [24]  207 	mov	dpl,r4
      000076 8D 83            [24]  208 	mov	dph,r5
      000078 8E F0            [24]  209 	mov	b,r6
      00007A C5*00            [12]  210 	xch	a,_bpx
      00007C F8               [12]  211 	mov	r0,a
      00007D 18               [12]  212 	dec	r0
      00007E E2               [24]  213 	movx	a,@r0
      00007F C5*00            [12]  214 	xch	a,_bpx
      000081 88*00            [24]  215 	mov	_spx,r0
      000083 22               [24]  216 	ret
                                    217 	.area CSEG    (CODE)
                                    218 	.area CONST   (CODE)
                                    219 	.area XINIT   (CODE)
                                    220 	.area CABS    (ABS,CODE)
