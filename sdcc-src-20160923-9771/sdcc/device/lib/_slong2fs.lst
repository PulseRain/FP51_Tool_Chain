                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.6.3 #9771 (MSVC)
                                      4 ;--------------------------------------------------------
                                      5 	.module _slong2fs
                                      6 	.optsdcc -mmcs51 --model-large --xstack
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl ___ulong2fs
                                     12 	.globl ___slong2fs
                                     13 ;--------------------------------------------------------
                                     14 ; special function registers
                                     15 ;--------------------------------------------------------
                                     16 	.area RSEG    (ABS,DATA)
      000000                         17 	.org 0x0000
                                     18 ;--------------------------------------------------------
                                     19 ; special function bits
                                     20 ;--------------------------------------------------------
                                     21 	.area RSEG    (ABS,DATA)
      000000                         22 	.org 0x0000
                                     23 ;--------------------------------------------------------
                                     24 ; overlayable register banks
                                     25 ;--------------------------------------------------------
                                     26 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         27 	.ds 8
                                     28 ;--------------------------------------------------------
                                     29 ; internal ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area DSEG    (DATA)
                                     32 ;--------------------------------------------------------
                                     33 ; overlayable items in internal ram 
                                     34 ;--------------------------------------------------------
                                     35 ;--------------------------------------------------------
                                     36 ; indirectly addressable internal ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area ISEG    (DATA)
                                     39 ;--------------------------------------------------------
                                     40 ; absolute internal ram data
                                     41 ;--------------------------------------------------------
                                     42 	.area IABS    (ABS,DATA)
                                     43 	.area IABS    (ABS,DATA)
                                     44 ;--------------------------------------------------------
                                     45 ; bit data
                                     46 ;--------------------------------------------------------
                                     47 	.area BSEG    (BIT)
                                     48 ;--------------------------------------------------------
                                     49 ; paged external ram data
                                     50 ;--------------------------------------------------------
                                     51 	.area PSEG    (PAG,XDATA)
                                     52 ;--------------------------------------------------------
                                     53 ; external ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area XSEG    (XDATA)
      000000                         56 ___slong2fs_sl_1_20:
      000000                         57 	.ds 4
                                     58 ;--------------------------------------------------------
                                     59 ; absolute external ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area XABS    (ABS,XDATA)
                                     62 ;--------------------------------------------------------
                                     63 ; external initialized ram data
                                     64 ;--------------------------------------------------------
                                     65 	.area XISEG   (XDATA)
                                     66 	.area HOME    (CODE)
                                     67 	.area GSINIT0 (CODE)
                                     68 	.area GSINIT1 (CODE)
                                     69 	.area GSINIT2 (CODE)
                                     70 	.area GSINIT3 (CODE)
                                     71 	.area GSINIT4 (CODE)
                                     72 	.area GSINIT5 (CODE)
                                     73 	.area GSINIT  (CODE)
                                     74 	.area GSFINAL (CODE)
                                     75 	.area CSEG    (CODE)
                                     76 ;--------------------------------------------------------
                                     77 ; global & static initialisations
                                     78 ;--------------------------------------------------------
                                     79 	.area HOME    (CODE)
                                     80 	.area GSINIT  (CODE)
                                     81 	.area GSFINAL (CODE)
                                     82 	.area GSINIT  (CODE)
                                     83 ;--------------------------------------------------------
                                     84 ; Home
                                     85 ;--------------------------------------------------------
                                     86 	.area HOME    (CODE)
                                     87 	.area HOME    (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; code
                                     90 ;--------------------------------------------------------
                                     91 	.area CSEG    (CODE)
                                     92 ;------------------------------------------------------------
                                     93 ;Allocation info for local variables in function '__slong2fs'
                                     94 ;------------------------------------------------------------
                                     95 ;sl                        Allocated with name '___slong2fs_sl_1_20'
                                     96 ;------------------------------------------------------------
                                     97 ;	_slong2fs.c:79: float __slong2fs (signed long sl) {
                                     98 ;	-----------------------------------------
                                     99 ;	 function __slong2fs
                                    100 ;	-----------------------------------------
      000000                        101 ___slong2fs:
                           000007   102 	ar7 = 0x07
                           000006   103 	ar6 = 0x06
                           000005   104 	ar5 = 0x05
                           000004   105 	ar4 = 0x04
                           000003   106 	ar3 = 0x03
                           000002   107 	ar2 = 0x02
                           000001   108 	ar1 = 0x01
                           000000   109 	ar0 = 0x00
      000000 AF 82            [24]  110 	mov	r7,dpl
      000002 AE 83            [24]  111 	mov	r6,dph
      000004 AD F0            [24]  112 	mov	r5,b
      000006 FC               [12]  113 	mov	r4,a
      000007 90r00r00         [24]  114 	mov	dptr,#___slong2fs_sl_1_20
      00000A EF               [12]  115 	mov	a,r7
      00000B F0               [24]  116 	movx	@dptr,a
      00000C EE               [12]  117 	mov	a,r6
      00000D A3               [24]  118 	inc	dptr
      00000E F0               [24]  119 	movx	@dptr,a
      00000F ED               [12]  120 	mov	a,r5
      000010 A3               [24]  121 	inc	dptr
      000011 F0               [24]  122 	movx	@dptr,a
      000012 EC               [12]  123 	mov	a,r4
      000013 A3               [24]  124 	inc	dptr
      000014 F0               [24]  125 	movx	@dptr,a
                                    126 ;	_slong2fs.c:80: if (sl<0) 
      000015 90r00r00         [24]  127 	mov	dptr,#___slong2fs_sl_1_20
      000018 E0               [24]  128 	movx	a,@dptr
      000019 FC               [12]  129 	mov	r4,a
      00001A A3               [24]  130 	inc	dptr
      00001B E0               [24]  131 	movx	a,@dptr
      00001C FD               [12]  132 	mov	r5,a
      00001D A3               [24]  133 	inc	dptr
      00001E E0               [24]  134 	movx	a,@dptr
      00001F FE               [12]  135 	mov	r6,a
      000020 A3               [24]  136 	inc	dptr
      000021 E0               [24]  137 	movx	a,@dptr
      000022 FF               [12]  138 	mov	r7,a
      000023 30 E7 24         [24]  139 	jnb	acc.7,00102$
                                    140 ;	_slong2fs.c:81: return -__ulong2fs(-sl);
      000026 C3               [12]  141 	clr	c
      000027 E4               [12]  142 	clr	a
      000028 9C               [12]  143 	subb	a,r4
      000029 F8               [12]  144 	mov	r0,a
      00002A E4               [12]  145 	clr	a
      00002B 9D               [12]  146 	subb	a,r5
      00002C F9               [12]  147 	mov	r1,a
      00002D E4               [12]  148 	clr	a
      00002E 9E               [12]  149 	subb	a,r6
      00002F FA               [12]  150 	mov	r2,a
      000030 E4               [12]  151 	clr	a
      000031 9F               [12]  152 	subb	a,r7
      000032 88 82            [24]  153 	mov	dpl,r0
      000034 89 83            [24]  154 	mov	dph,r1
      000036 8A F0            [24]  155 	mov	b,r2
      000038 12r00r00         [24]  156 	lcall	___ulong2fs
      00003B A8 82            [24]  157 	mov	r0,dpl
      00003D A9 83            [24]  158 	mov	r1,dph
      00003F AA F0            [24]  159 	mov	r2,b
      000041 B2 E7            [12]  160 	cpl	acc.7
      000043 88 82            [24]  161 	mov	dpl,r0
      000045 89 83            [24]  162 	mov	dph,r1
      000047 8A F0            [24]  163 	mov	b,r2
      000049 22               [24]  164 	ret
      00004A                        165 00102$:
                                    166 ;	_slong2fs.c:83: return __ulong2fs(sl);
      00004A 8C 82            [24]  167 	mov	dpl,r4
      00004C 8D 83            [24]  168 	mov	dph,r5
      00004E 8E F0            [24]  169 	mov	b,r6
      000050 EF               [12]  170 	mov	a,r7
      000051 02r00r00         [24]  171 	ljmp	___ulong2fs
                                    172 	.area CSEG    (CODE)
                                    173 	.area CONST   (CODE)
                                    174 	.area XINIT   (CODE)
                                    175 	.area CABS    (ABS,CODE)
